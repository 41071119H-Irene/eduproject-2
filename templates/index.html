<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Profile Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css" integrity="sha256-2XFplPlrFClt0bIdPgpz8H7ojnk10H69xRqd9+uTShA=" crossorigin="anonymous" />
<style type="text/css">
    body {
        margin-top: 20px;
        color: #9b9ca1;
        background-color: #f8f9fa; /* Uniform gray background */
    }
    .bg-secondary-soft,
    .bg-gray {
        background-color: rgba(208, 212, 217, 0.1) !important;
    }
    .rounded {
        border-radius: 5px !important;
    }
    .py-5 {
        padding-top: 3rem !important;
        padding-bottom: 3rem !important;
    }
    .px-4 {
        padding-right: 1.5rem !important;
        padding-left: 1.5rem !important;
    }
    .file-upload .square {
        height: 250px;
        width: 250px;
        margin: auto;
        vertical-align: middle;
        border: 1px solid #e5dfe4;
        background-color: #fff;
        border-radius: 5px;
    }
    .text-secondary {
        --bs-text-opacity: 1;
        color: rgba(208, 212, 217, 0.5) !important;
    }
    .btn-success-soft {
        color: #28a745;
        background-color: rgba(40, 167, 69, 0.1);
    }
    .btn-danger-soft {
        color: #dc3545;
        background-color: rgba(220, 53, 69, 0.1);
    }
    .form-control {
        display: block;
        width: 100%;
        padding: 0.5rem 1rem;
        font-size: 0.9375rem;
        font-weight: 400;
        line-height: 1.6;
        color: #29292e;
        background-color: #fff;
        background-clip: padding-box;
        border: 1px solid #e5dfe4;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        border-radius: 5px;
        -webkit-transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;
        transition: border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;
    }
    /* 新增的樣式 */
    .upload-section {
        margin-top: 20px;
    }
    .upload-btns {
        margin-top: 20px;
    }
</style>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-6">
            <div class="my-5">
                <h3>Profile Generator</h3>
                <hr>
            </div>
            <form class="file-upload">
                <div class="row gx-5">
                    <div class="col-md-12">
                        <div class="bg-gray px-4 py-5 rounded">
                            <label class="form-label">Name *</label>
                            <input type="text" class="form-control" placeholder="Name" name="name" value="">
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="bg-gray px-4 py-5 rounded">
                            <label class="form-label">Email *</label>
                            <input type="email" class="form-control" id="inputEmail4" value="" name="email">
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="bg-gray px-4 py-5 rounded">
                                    <label class="form-label">Feature 1 *</label>
                                    <input type="text" class="form-control" placeholder="Feature 1" name="feature1">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="bg-gray px-4 py-5 rounded">
                                    <label class="form-label">Feature 2 *</label>
                                    <input type="text" class="form-control" placeholder="Feature 2" name="feature2">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="bg-gray px-4 py-5 rounded">
                                    <label class="form-label">Feature 3 *</label>
                                    <input type="text" class="form-control" placeholder="Feature 3" name="feature3">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="bg-gray px-4 py-5 rounded">
                            <label class="form-label">Facebook</label>
                            <input type="text" class="form-control" placeholder aria-label="Facebook" value="" name="facebook">
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="bg-gray px-4 py-5 rounded">
                            <label class="form-label">Instagram</label>
                            <input type="text" class="form-control" placeholder aria-label="Twitter" value="" name="instagram" >
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="bg-gray px-4 py-5 rounded">
                            <label class="form-label">Personal Website</label>
                            <input type="text" class="form-control" placeholder aria-label="personal_website" value="" name="personal_website">
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-xxl-6">
            <div class="upload-section">
                <div class="bg-gray px-4 py-5 rounded">
                    <h4 class="mb-4 mt-0">Upload your profile photo</h4>
                    <div class="text-center">
                        <div class="col-md-12 upload-section">
                            <div class="bg-gray px-4 py-5 rounded">
                                <label class="form-label">Profile Photo Preview</label>
                                <div class="square text-center">
                                    <img src="" id="imagePreview" class="img-fluid" alt="Profile Photo Preview" style="display: none;">
                                </div>
                            </div>
                        </div>
                        <input type="file" id="customFile" name="photo" hidden>
                        <label class="btn btn-success-soft btn-block" for="customFile" id="uploadBtn">Upload</label>
                        <button type="button" class="btn btn-danger-soft" id="removeBtn" style="display: none;">Remove</button>
                        <p class="text-muted mt-3 mb-0"><span class="me-1">Note:</span>Minimum size 300px x 300px</p>
                    </div>
                </div>
                <div class="col-md-12 upload-section">
                    <div class="bg-gray px-4 py-5 rounded">
                        <label class="form-label">Introduction</label>
                        <textarea type="text" class="form-control" placeholder aria-label="personal_website" value="" name="introduction"></textarea>
                    </div>
                </div>                
                <!-- 新增Generate!按鈕 -->
                <div class="col-md-12 upload-section">
                    <button type="button" class="btn btn-primary btn-block" id="generateBtn">Generate!</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    $('#customFile').change(function() {
        var input = this;
        var reader = new FileReader();
        reader.onload = function(e) {
            $('#uploadBtn').hide();
            $('#removeBtn').show();
            $('#imagePreview').attr('src', e.target.result).show();
        }
        reader.readAsDataURL(input.files[0]);
    });
    $('#removeBtn').click(function() {
        $('#customFile').val('');
        $('#uploadBtn').show();
        $('#removeBtn').hide();
        $('#imagePreview').attr('src', '').hide();
    });

    $('#generateBtn').click(function() {
        $.post('/profile', $('form').serialize(), function(response) {
            // 在成功提交後，你可以將用戶重定向到另一個頁面或者執行其他操作
            // 這裡的 response 變數包含了從後端返回的任何數據
            // 你可以根據返回的數據執行相應的操作
            // 例如，如果後端返回了生成的個人資料頁面的URL，你可以重定向用戶到該頁面
            window.location.href = response.profileUrl;
        });
    });
});

</script>
</body>
</html>
